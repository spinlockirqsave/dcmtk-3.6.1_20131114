<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DCMTK: dcmtk::log4cplus::thread::Queue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DCMTK
   &#160;<span id="projectnumber">Version 3.6.1 20131114</span>
   </div>
   <div id="projectbrief">OFFIS DICOM Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>dcmtk</b></li><li class="navelem"><b>log4cplus</b></li><li class="navelem"><b>thread</b></li><li class="navelem"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html">Queue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dcmtk::log4cplus::thread::Queue Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Single consumer, multiple producers queue.  
 <a href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for dcmtk::log4cplus::thread::Queue:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.png" usemap="#dcmtk::log4cplus::thread::Queue_map" alt=""/>
  <map id="dcmtk::log4cplus::thread::Queue_map" name="dcmtk::log4cplus::thread::Queue_map">
<area href="classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject.html" alt="dcmtk::log4cplus::helpers::SharedObject" shape="rect" coords="0,0,236,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a352b6cae510268d44a3b1ae7add6ec2a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2a">Flags</a> { <br/>
&#160;&#160;<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2aa560b87ffa49db52437e01575101dc6c7">EVENT</a> =  0x0001, 
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2aa2a5dda8969fc4074d02f3ddb2789599f">QUEUE</a> =  0x0002, 
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2aa309aa1ab1e3f5c16463cf9ffd037f5cd">EXIT</a> =  0x0004, 
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2aaf5887701dd6c4fa3edabdc0c88b3675e">DRAIN</a> =  0x0008, 
<br/>
&#160;&#160;<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2aa769e2836405781bdb352cd76891d3f1b">ERROR_BIT</a> =  0x0010, 
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2aa4354d01c1a1b13f4acbc47302ddf9661">ERROR_AFTER</a> =  0x0020
<br/>
 }</td></tr>
<tr class="memdesc:a352b6cae510268d44a3b1ae7add6ec2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible state flags.  <a href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2a">More...</a><br/></td></tr>
<tr class="memitem:a01af2ed806fec1f14630046f05a9f813"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01af2ed806fec1f14630046f05a9f813"></a>
typedef unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a></td></tr>
<tr class="memdesc:a01af2ed806fec1f14630046f05a9f813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the state flags field. <br/></td></tr>
<tr class="memitem:a252f69126d3c1e5cc120fc7bbbf5aeda"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a252f69126d3c1e5cc120fc7bbbf5aeda"></a>
typedef <a class="el" href="classOFVector.html">OFVector</a><br class="typebreak"/>
&lt; <a class="el" href="classdcmtk_1_1log4cplus_1_1spi_1_1InternalLoggingEvent.html">spi::InternalLoggingEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a252f69126d3c1e5cc120fc7bbbf5aeda">queue_storage_type</a></td></tr>
<tr class="memdesc:a252f69126d3c1e5cc120fc7bbbf5aeda"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html" title="Single consumer, multiple producers queue.">Queue</a> storage type. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5994ee0c8e9f181b31e5d0ec0c492438"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5994ee0c8e9f181b31e5d0ec0c492438"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Queue</b> (unsigned len=100)</td></tr>
<tr class="memitem:ab2772851bcf086e3164cfc2a9d7d2991"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#ab2772851bcf086e3164cfc2a9d7d2991">put_event</a> (<a class="el" href="classdcmtk_1_1log4cplus_1_1spi_1_1InternalLoggingEvent.html">spi::InternalLoggingEvent</a> const &amp;ev)</td></tr>
<tr class="memdesc:ab2772851bcf086e3164cfc2a9d7d2991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts event <code>ev</code> into queue, sets QUEUE flag and sets internal event object into signaled state.  <a href="#ab2772851bcf086e3164cfc2a9d7d2991"></a><br/></td></tr>
<tr class="memitem:a6fe8a9c7b77e0bdf7a9a7db9a599e087"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a6fe8a9c7b77e0bdf7a9a7db9a599e087">signal_exit</a> (bool drain=true)</td></tr>
<tr class="memdesc:a6fe8a9c7b77e0bdf7a9a7db9a599e087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets EXIT flag and DRAIN flag and sets internal event object into signaled state.  <a href="#a6fe8a9c7b77e0bdf7a9a7db9a599e087"></a><br/></td></tr>
<tr class="memitem:aa56e0d661dd837468d07f23c227c7721"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#aa56e0d661dd837468d07f23c227c7721">get_events</a> (<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a252f69126d3c1e5cc120fc7bbbf5aeda">queue_storage_type</a> *buf)</td></tr>
<tr class="memdesc:aa56e0d661dd837468d07f23c227c7721"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#aa56e0d661dd837468d07f23c227c7721" title="The get_events() function is used by queue&#39;s consumer.">get_events()</a> function is used by queue's consumer.  <a href="#aa56e0d661dd837468d07f23c227c7721"></a><br/></td></tr>
<tr class="inherit_header pub_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject.html">dcmtk::log4cplus::helpers::SharedObject</a></td></tr>
<tr class="memitem:a8bc080e06dddd5acc399fbf12de73199 inherit pub_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8bc080e06dddd5acc399fbf12de73199"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>addReference</b> () const </td></tr>
<tr class="memitem:a8090e3dca9a902cf5d5763d158196d48 inherit pub_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8090e3dca9a902cf5d5763d158196d48"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>removeReference</b> () const </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a0d9ecc70f261444c8fcf504cc4bb6e03"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d9ecc70f261444c8fcf504cc4bb6e03"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a252f69126d3c1e5cc120fc7bbbf5aeda">queue_storage_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a0d9ecc70f261444c8fcf504cc4bb6e03">queue</a></td></tr>
<tr class="memdesc:a0d9ecc70f261444c8fcf504cc4bb6e03"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html" title="Single consumer, multiple producers queue.">Queue</a> storage. <br/></td></tr>
<tr class="memitem:a048148be75bfc057fa2523050ccf939a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a048148be75bfc057fa2523050ccf939a"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Mutex.html">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a048148be75bfc057fa2523050ccf939a">mutex</a></td></tr>
<tr class="memdesc:a048148be75bfc057fa2523050ccf939a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Mutex.html">Mutex</a> protecting queue and flags. <br/></td></tr>
<tr class="memitem:aa62f39a8c4e2a17f918a7304e3e82901"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa62f39a8c4e2a17f918a7304e3e82901"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1ManualResetEvent.html">ManualResetEvent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#aa62f39a8c4e2a17f918a7304e3e82901">ev_consumer</a></td></tr>
<tr class="memdesc:aa62f39a8c4e2a17f918a7304e3e82901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event on which consumer can wait if it finds queue empty. <br/></td></tr>
<tr class="memitem:a1c76b8ceec8a682e895ce3c914926377"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c76b8ceec8a682e895ce3c914926377"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Semaphore.html">Semaphore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a1c76b8ceec8a682e895ce3c914926377">sem</a></td></tr>
<tr class="memdesc:a1c76b8ceec8a682e895ce3c914926377"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Semaphore.html">Semaphore</a> that limits the queue length. <br/></td></tr>
<tr class="memitem:a068d236073ddf6bdb2cf9079fcef94b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a068d236073ddf6bdb2cf9079fcef94b6"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a068d236073ddf6bdb2cf9079fcef94b6">flags</a></td></tr>
<tr class="memdesc:a068d236073ddf6bdb2cf9079fcef94b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">State flags. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa9f57149fdc5721465bdff1e8b997dd1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9f57149fdc5721465bdff1e8b997dd1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Queue</b> (<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html">Queue</a> const &amp;)</td></tr>
<tr class="memitem:ad8242dac5eb470a07f33eb7cdc8a4652"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8242dac5eb470a07f33eb7cdc8a4652"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html">Queue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html">Queue</a> const &amp;)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject')"><img src="closed.png" alt="-"/>&nbsp;Public Attributes inherited from <a class="el" href="classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject.html">dcmtk::log4cplus::helpers::SharedObject</a></td></tr>
<tr class="memitem:adede8b310e5860be185d9dc152ae3663 inherit pub_attribs_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adede8b310e5860be185d9dc152ae3663"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Mutex.html">thread::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><b>access_mutex</b></td></tr>
<tr class="inherit_header pro_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject')"><img src="closed.png" alt="-"/>&nbsp;Protected Member Functions inherited from <a class="el" href="classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject.html">dcmtk::log4cplus::helpers::SharedObject</a></td></tr>
<tr class="memitem:a0672f8783f35897b1048a497554d5cf5 inherit pro_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0672f8783f35897b1048a497554d5cf5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SharedObject</b> (const <a class="el" href="classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject.html">SharedObject</a> &amp;)</td></tr>
<tr class="memitem:a6f3a097f8755cdcd10e40a105637bbf9 inherit pro_methods_classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f3a097f8755cdcd10e40a105637bbf9"></a>
<a class="el" href="classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject.html">SharedObject</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classdcmtk_1_1log4cplus_1_1helpers_1_1SharedObject.html">SharedObject</a> &amp;)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Single consumer, multiple producers queue. </p>
</div><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a352b6cae510268d44a3b1ae7add6ec2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a352b6cae510268d44a3b1ae7add6ec2a">dcmtk::log4cplus::thread::Queue::Flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible state flags. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a352b6cae510268d44a3b1ae7add6ec2aa560b87ffa49db52437e01575101dc6c7"></a>EVENT</em>&nbsp;</td><td>
<p>EVENT flag is set in return value of get_event() call if the <code>ev</code> argument is filled with event from the queue. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a352b6cae510268d44a3b1ae7add6ec2aa2a5dda8969fc4074d02f3ddb2789599f"></a>QUEUE</em>&nbsp;</td><td>
<p>QUEUE flag is set by producers when they put item into the queue. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a352b6cae510268d44a3b1ae7add6ec2aa309aa1ab1e3f5c16463cf9ffd037f5cd"></a>EXIT</em>&nbsp;</td><td>
<p>EXIT flag is set by <a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a6fe8a9c7b77e0bdf7a9a7db9a599e087" title="Sets EXIT flag and DRAIN flag and sets internal event object into signaled state.">signal_exit()</a> call, signaling that the queue worker thread should end itself. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a352b6cae510268d44a3b1ae7add6ec2aaf5887701dd6c4fa3edabdc0c88b3675e"></a>DRAIN</em>&nbsp;</td><td>
<p>When DRAIN flag is set together with EXIT flag, the queue worker thread will first drain the queue before exiting. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a352b6cae510268d44a3b1ae7add6ec2aa769e2836405781bdb352cd76891d3f1b"></a>ERROR_BIT</em>&nbsp;</td><td>
<p>ERROR_BIT signals error. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a352b6cae510268d44a3b1ae7add6ec2aa4354d01c1a1b13f4acbc47302ddf9661"></a>ERROR_AFTER</em>&nbsp;</td><td>
<p>ERROR_AFTER signals error that has occured after queue has already been touched. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="aa56e0d661dd837468d07f23c227c7721"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a> dcmtk::log4cplus::thread::Queue::get_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a252f69126d3c1e5cc120fc7bbbf5aeda">queue_storage_type</a> *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The <a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#aa56e0d661dd837468d07f23c227c7721" title="The get_events() function is used by queue&#39;s consumer.">get_events()</a> function is used by queue's consumer. </p>
<p>It fills <code>buf</code> argument and sets EVENT flag in return value. If EXIT flag is already set in flags member upon entering the function then depending on DRAIN flag it either fills <code>buf</code> argument or does not fill the argument, if the queue is non-empty. The function blocks by waiting for internal event object to be signaled if the queue is empty, unless EXIT flag is set. The calling thread is unblocked when items are added into the queue or when exit is signaled using the <a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a6fe8a9c7b77e0bdf7a9a7db9a599e087" title="Sets EXIT flag and DRAIN flag and sets internal event object into signaled state.">signal_exit()</a> function.</p>
<p>Upon error, return value has one of the error flags set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to storage of <a class="el" href="classdcmtk_1_1log4cplus_1_1spi_1_1InternalLoggingEvent.html" title="The internal representation of logging events.">spi::InternalLoggingEvent</a> instances to be filled from queue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Flags. </dd></dl>

</div>
</div>
<a class="anchor" id="ab2772851bcf086e3164cfc2a9d7d2991"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a> dcmtk::log4cplus::thread::Queue::put_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdcmtk_1_1log4cplus_1_1spi_1_1InternalLoggingEvent.html">spi::InternalLoggingEvent</a> const &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts event <code>ev</code> into queue, sets QUEUE flag and sets internal event object into signaled state. </p>
<p>If the EXIT flags is already set upon entering the function, nothing is inserted into the queue. The function can block on internal semaphore if the queue has reached maximal allowed length. Calling thread is unblocked either by consumer thread removing item from queue or by any other thread calling <a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a6fe8a9c7b77e0bdf7a9a7db9a599e087" title="Sets EXIT flag and DRAIN flag and sets internal event object into signaled state.">signal_exit()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td><a class="el" href="classdcmtk_1_1log4cplus_1_1spi_1_1InternalLoggingEvent.html" title="The internal representation of logging events.">spi::InternalLoggingEvent</a> to be put into the queue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Flags. </dd></dl>

</div>
</div>
<a class="anchor" id="a6fe8a9c7b77e0bdf7a9a7db9a599e087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdcmtk_1_1log4cplus_1_1thread_1_1Queue.html#a01af2ed806fec1f14630046f05a9f813">flags_type</a> dcmtk::log4cplus::thread::Queue::signal_exit </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>drain</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets EXIT flag and DRAIN flag and sets internal event object into signaled state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">drain</td><td>If true, DRAIN flag will be set, otherwise unset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Flags, ERROR_BIT can be set upon error. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>oflog/include/dcmtk/oflog/helpers/queue.h</li>
</ul>
</div><!-- contents -->
<p>
<hr>
<small>
Generated on Sun Jun 1 2014 for <a href="http://www.dcmtk.org/">DCMTK</a> Version 3.6.1 20131114 by <a href="http://www.doxygen.org/">Doxygen</a> 1.8.1.2
</small>
